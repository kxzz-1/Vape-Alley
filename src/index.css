@tailwind base;
@tailwind components;
@tailwind utilities;

@layer base {
  html {
    /* This enables smooth scrolling for all anchor links and scroll events */
    @apply scroll-smooth;
  }
}

/* --- Body and Background Styles --- */
body {
  /* The body now only needs a base background color */
  @apply bg-background;
}

.app-container {
  @apply text-gray-200;
}

/* This new container is fixed to the viewport and sits behind everything */
.background-gradient-container {
  @apply fixed inset-0 -z-10 overflow-hidden;
}

/* The animated gradient is now attached to this dedicated container */
.background-gradient-container::before {
  content: '';
  position: absolute;
  top: -25%;
  left: -25%;
  right: -25%;
  bottom: -25%;
  z-index: -1;

  background: radial-gradient(
    circle at 25% 20%,
    theme('colors.neon-purple') 0%,
    transparent 40%
  ),
  radial-gradient(
    circle at 75% 80%,
    theme('colors.primary') 0%,
    transparent 50%
  );

  filter: blur(150px);
  animation: blob-glow 12s infinite alternate;
}

/* --- Logo Pulse Animation for Product Cards --- */
.logo-pulse {
  animation: pulse-effect 2s cubic-bezier(0.4, 0, 0.6, 1) infinite;
}

@keyframes pulse-effect {
  0%, 100% {
    opacity: 1;
    transform: scale(1);
  }
  50% {
    opacity: 0.7;
    transform: scale(0.95);
  }
}
/* --- Custom Scrollbar Styles --- */
::-webkit-scrollbar {
  @apply w-2;
}

::-webkit-scrollbar-track {
  @apply bg-background;
}

::-webkit-scrollbar-thumb {
  @apply bg-primary rounded-full border-2 border-transparent bg-clip-content;
}

::-webkit-scrollbar-thumb:hover {
  @apply bg-accent;
}


/* --- Navbar Section --- */
.navbar {
  /* This uses justify-between to space out the left, center, and right sections */
  @apply flex items-center justify-between px-4 md:px-10 py-4 shadow-lg fixed top-0 left-0 right-0 z-50;

  /* Frosted glass effect */
  background-color: rgba(0, 0, 0, 0.4);
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
  box-shadow: 0 0 10px rgba(200, 0, 200, 0.4), 0 0 20px rgba(200, 0, 200, 0.3);
}

/* Left side of Navbar */
.brand-name {
  @apply text-xl md:text-2xl font-extrabold tracking-wider text-white drop-shadow-lg;
  animation: text-glow 2s infinite alternate;
}

/* Center of Navbar */
.nav-links {
  /* Added background, padding, and rounded-full for the container effect */
  @apply hidden md:flex items-center space-x-2 text-accent bg-black/30 px-4 py-2 rounded-full;
  box-shadow: 0 0 10px rgba(200, 0, 200, 0.4), 0 0 20px rgba(200, 0, 200, 0.3);
}

.nav-links a {
  /* The hover state now applies a solid primary color background, creating the circle/pill effect */
  @apply transition-colors duration-300 px-3 py-1 rounded-full hover:bg-primary hover:text-white;
}

/* Add this class to a link (via JS) to mark it as the currently active page */
.nav-link-active {
  @apply bg-primary text-white;
}

/* --- Product Section --- */
.products-section-container {
  @apply w-full mt-16;
}

.products-section-title {
  @apply text-3xl font-bold text-accent mb-8 text-center;
}

.products-section-banner {
  @apply mb-8 rounded-lg overflow-hidden shadow-lg;
}

.products-section-tabs {
  /* Tabs are now inside the container, scrollable on mobile */
  @apply flex justify-start md:justify-center space-x-4 md:space-x-8 overflow-x-auto pb-4;
  /* Hide scrollbar for a cleaner look */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none;  /* IE */
}
.products-section-tabs::-webkit-scrollbar {
  display: none; /* Safari and Chrome */
}

.product-tab {
  @apply flex-shrink-0 px-4 py-2 text-sm md:text-base font-semibold rounded-full transition-all duration-300 bg-gray-800/50 text-accent hover:bg-primary/50;
}

.product-tab-active {
  @apply bg-primary text-white;
}

/* Unified container for tabs, arrow, and products */
.product-display-container {
  @apply relative bg-gray-900/50 rounded-xl shadow-lg p-4 sm:p-6;
}

/* The pointer arrow */
.product-display-arrow {
  @apply absolute top-[48px] w-0 h-0 border-l-[15px] border-l-transparent border-r-[15px] border-r-transparent border-b-[15px] border-b-primary;
  /* Smooth transition for the left property */
  transition: left 0.4s cubic-bezier(0.4, 0, 0.2, 1);
  /* Center the arrow on its left position */
  transform: translateX(-50%);
}

/* Horizontal Scrolling Grid */
.products-horizontal-scroll {
  /* Centered the cards and balanced the padding */
  @apply flex justify-center overflow-x-auto pt-8 gap-6 px-4 sm:px-6 transition-opacity duration-200;
  /* Hide scrollbar for a cleaner look */
  scrollbar-width: none; /* Firefox */
  -ms-overflow-style: none;  /* Internet Explorer 10+ */
  /* Enable snapping for a carousel-like feel */
  scroll-snap-type: x mandatory;
  scroll-behavior: smooth; /* Ensures smooth programmatic scrolling */
}

.products-horizontal-scroll::-webkit-scrollbar {
  display: none; /* Safari and Chrome */
}

/* New outer container to constrain width on large screens */
.product-scroller-outer {
  /* On large screens (lg), center the container */
  @apply lg:mx-auto;
  /* Set a custom max-width to perfectly fit 4 cards (18rem each) and 3 gaps (1.5rem each) */
  max-width: 76.5rem; /* 4 * 18rem (w-72) + 3 * 1.5rem (gap-6) = 76.5rem */
}

/* --- Mega Menu Dropdown Styles --- */
.mega-menu-container {
  /* This container creates the space for the menu to appear in, solving the hover gap issue */
  @apply absolute top-full left-1/2 -translate-x-1/2 pt-4; /* pt-4 creates the visual gap */
}

.mega-menu {
  @apply p-6 rounded-lg shadow-lg w-max;
  /* Frosted glass effect */
  background-color: rgba(10, 10, 20, 0.8); /* Dark semi-transparent background from your theme */
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
}

.mega-menu-content {
  @apply flex gap-x-12; /* Space between the columns */
}

.mega-menu-section {
  @apply flex gap-x-6; /* Space between image and links */
}

.mega-menu-image-container {
  @apply w-32 h-40 rounded-md overflow-hidden;
}

.mega-menu-image {
  @apply w-full h-full object-cover;
}

.mega-menu-heading {
  @apply font-bold text-white text-lg mb-3;
}

.mega-menu-links {
  @apply flex flex-col space-y-2;
}

.mega-menu-link {
  @apply text-gray-300 hover:text-accent transition-colors;
}


/* Right side of Navbar */
.icon-button {
  @apply text-accent bg-black/30 px-2 py-2 rounded-full hover:bg-primary hover:text-white transition-colors;
  box-shadow: 0 0 10px rgba(200, 0, 200, 0.4), 0 0 20px rgba(200, 0, 200, 0.3);
}

.bar {
    @apply h-0.5 w-6 bg-accent rounded-full transition-all duration-300;
}

/* --- Animated Hamburger Menu --- */
.hamburger-menu {
  @apply icon-button flex flex-col justify-center items-center space-y-1.5 p-2;
}

.hamburger-menu.open .bar1 {
  transform: rotate(45deg) translate(5px, 6px);
}

.hamburger-menu.open .bar2 {
  opacity: 0;
}

.hamburger-menu.open .bar3 {
  transform: rotate(-45deg) translate(5px, -6px);
}

/* --- Full-Screen Mobile Menu (Old styles to be removed) --- */
/* The new implementation uses Headless UI Dialog and does not need these custom classes */
/*
.bar {
    @apply h-0.5 w-6 bg-accent rounded-full;
}

.mobile-menu-overlay {
  @apply md:hidden fixed inset-0 z-50 flex flex-col;
  background-color: rgba(10, 10, 20, 0.8); 
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
}

.mobile-menu-header {
  @apply flex items-center justify-between p-4 border-b border-primary/30;
  height: 72px; 
}

.mobile-menu-content {
  @apply flex flex-col items-start w-full p-6 overflow-y-auto flex-grow;
}
*/
 
/* --- Sale Banner Section --- */
.sale-banner {
  @apply my-12;
}

.sale-banner img {
  @apply w-full rounded-lg shadow-lg shadow-primary/30;
}

/* --- Responsive Content Padding --- */
.content-padding {
  @apply p-4 md:p-8;
}


/* --- Footer Section --- */
.footer {
  @apply bg-black/70 border-t border-primary/30 mt-16;
}

.footer-container {
    @apply mx-auto max-w-7xl px-4 md:px-8 py-12;
}

.footer-grid {
  @apply grid grid-cols-1 md:grid-cols-2 lg:grid-cols-4 gap-8 text-center md:text-left;
}

.footer-heading {
  @apply text-lg font-semibold text-accent mb-4;
}

.footer-links {
  @apply flex flex-col space-y-3;
}

.footer-link {
  @apply text-gray-400 hover:text-white transition-colors;
}

.footer-socials {
  @apply flex space-x-4 mt-4 justify-center md:justify-start;
}

.social-icon {
    @apply text-gray-400 hover:text-accent transition-colors;
}

.footer-copyright {
  @apply mt-12 pt-8 border-t border-primary/20 text-center text-gray-500 text-sm;
}

/* --- Brands Scroller Section --- */
.brands-scroller {
  /* Use negative margins to allow logos to scroll into the faded edges */
  @apply w-full inline-flex flex-nowrap -mx-4 sm:mx-0;
  mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
  -webkit-mask-image: linear-gradient(to right, transparent, black 10%, black 90%, transparent);
}

.brands-scroller-inner {
  @apply flex items-center justify-center md:justify-start;
  /* Slow down animation for a smoother effect */
  animation: scroll-brands 60s linear infinite;
}

.brand-logo {
  /* Reduce logo size on mobile */
  @apply h-16 w-36 md:h-24 md:w-48 flex items-center justify-center p-2 md:p-4 mx-2 md:mx-4;
  filter: grayscale(100%) opacity(60%);
  transition: all 0.3s ease-in-out;
}

.brand-logo:hover {
  filter: grayscale(0%) opacity(100%);
  transform: scale(1.1);
}

@keyframes scroll-brands {
  from { transform: translateX(0); }
  to { transform: translateX(-50%); }
}

/* --- Custom Dropdown Component Styles --- */
.custom-select-button {
  @apply relative w-full cursor-default rounded-md border border-primary/50 bg-gray-800/50 py-2 pl-3 pr-10 text-left text-white shadow-sm;
  @apply hover:border-accent focus:border-accent focus:outline-none focus:ring-1 focus:ring-accent;
}

.custom-select-options {
  @apply absolute mt-1 max-h-60 w-full overflow-auto rounded-md py-1 text-base shadow-lg ring-1 ring-black ring-opacity-5 focus:outline-none sm:text-sm;
  /* Themed background with backdrop blur */
  background-color: rgba(10, 10, 20, 0.8); /* Dark semi-transparent background from your theme */
  -webkit-backdrop-filter: blur(10px);
  backdrop-filter: blur(10px);
}

/* --- End Custom Dropdown --- */

/* Add styles for the prose class used in product descriptions */
@layer base {
  .prose-invert a {
    @apply text-accent hover:text-primary;
  }
}

/* --- Checkout Page --- */
.checkout-input {
  /* Themed input fields with smooth transitions */
  @apply block w-full rounded-md border-2 border-primary/30 bg-gray-900 px-4 py-2 shadow-sm text-white transition-all duration-200;
  @apply focus:border-accent focus:ring-2 focus:ring-accent/50 focus:outline-none;
}
/* --- End Checkout Page --- */
